(this["webpackJsonpreact-homework-template"]=this["webpackJsonpreact-homework-template"]||[]).push([[0],{51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),o=a(20),u=a(15),i=a(4),l=a(10),j=a.n(l),b=a(6),h=a(7),p=a(31),m=a(30),d=a(2),f=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.onInputChange=function(t){e.setState({search:t.target.value})},e.onSubmit=function(t){t.preventDefault();var a=e.state.search;(0,e.props.onSearchLoad)(a)},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(d.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(d.jsx)("span",{className:"button-label",children:"Search"})}),Object(d.jsx)("input",{onChange:this.onInputChange,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,name:"search",value:e,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),O=function(e){var t=e.largeImageURL,a=e.onClose;Object(n.useEffect)((function(){var e=function(e){console.log("in handleKeyClose"),"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(d.jsx)("div",{className:"Overlay",children:Object(d.jsxs)("div",{className:"Modal",onClick:function(e){e.currentTarget!==e.target&&a()},children:[Object(d.jsx)("button",{style:{marginLeft:"auto"},type:"button",onClick:a,children:"X"}),Object(d.jsx)("img",{src:t,alt:""})]})})},g=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],c=a[1],s=function(){c((function(e){return!e}))},o=e.element;return Object(d.jsxs)("li",{className:"ImageGalleryItem",onClick:s,children:[Object(d.jsx)("img",{className:"ImageGalleryItem-image",src:o.webformatURL,alt:o.tags}),r&&Object(d.jsx)(O,{largeImageURL:o.largeImageURL,onClose:s})]})},v=a(17),x=a.n(v);function y(e){var t=e.elements,a=e.status;return Object(d.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(d.jsx)(g,{element:e,status:a},e.id)}))})}g.propTypes={elements:x.a.object,status:x.a.string,handleToggle:x.a.func};var w=a(29);function S(){return Object(d.jsx)(w.a,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}function k(e){var t=e.onButtonLoad;return Object(d.jsx)("button",{className:"Button",onClick:t,children:"Load more"})}var L="idle",C="loading",I="success",N="error",E=a(54).a.create({baseURL:"https://pixabay.com/api"}),R=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,n,r,c,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},a=t.page,n=t.search,e.next=4,E.get("/",{params:{q:n,page:a,key:"12869198-d37a15061ea84e81a1308e6dd",image_type:"photo",orientation:"horizontal",per_page:12}});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(L),s=Object(i.a)(c,2),l=s[0],b=s[1],h=Object(n.useState)(""),p=Object(i.a)(h,2),m=p[0],O=p[1],g=Object(n.useState)(1),v=Object(i.a)(g,2),x=v[0],w=v[1],E=Object(n.useState)(!1),U=Object(i.a)(E,2),F=U[0],T=U[1],G=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=t.search,b(C),e.prev=2,e.next=5,R({page:a,search:n});case 5:c=e.sent,r((function(e){return[].concat(Object(o.a)(e),Object(o.a)(c.hits))})),b(I),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),b(N);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G({page:x,search:m})}),[m,x]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(f,{onSearchLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";w(1),O(e),r([])}}),l===C?Object(d.jsx)(S,{}):Object(d.jsx)(y,{elements:a,status:l,handleToggle:function(e){T((function(e){return!F}))}}),Object(d.jsx)(k,{onButtonLoad:function(){w(x+1),O(m)},page:x}),Object(d.jsx)(B,{})]})},B=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})})),Object(d.jsx)("div",{ref:e})};a(51);s.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(U,{})}))}},[[52,1,2]]]);
//# sourceMappingURL=main.6aa9f9e2.chunk.js.map