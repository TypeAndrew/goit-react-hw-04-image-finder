(this["webpackJsonpreact-homework-template"]=this["webpackJsonpreact-homework-template"]||[]).push([[0],{51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(23),c=a.n(r),s=a(20),o=a(15),u=a(4),i=a(10),l=a.n(i),j=a(6),b=a(7),h=a(31),p=a(30),m=a(2),f=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.onInputChange=function(t){e.setState({search:t.target.value})},e.onSubmit=function(t){t.preventDefault();var a=e.state.search;(0,e.props.onSearchLoad)(a)},e}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state.search;return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"button-label",children:"Search"})}),Object(m.jsx)("input",{onChange:this.onInputChange,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,name:"search",value:e,placeholder:"Search images and photos"})]})})}}]),a}(n.Component),d=function(e){var t=e.largeImageURL,a=e.onClose;Object(n.useEffect)((function(){var e=function(e){console.log("in handleKeyClose"),"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return Object(m.jsx)("div",{className:"Overlay",children:Object(m.jsxs)("div",{className:"Modal",onClick:function(e){e.currentTarget!==e.target&&a()},children:[Object(m.jsx)("button",{style:{marginLeft:"auto"},type:"button",onClick:a,children:"X"}),Object(m.jsx)("img",{src:t,alt:""})]})})},O=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],s=function(){c((function(e){return!e}))},o=e.element;return Object(m.jsxs)("li",{className:"ImageGalleryItem",onClick:s,children:[Object(m.jsx)("img",{className:"ImageGalleryItem-image",src:o.webformatURL,alt:o.tags}),r&&Object(m.jsx)(d,{largeImageURL:o.largeImageURL,onClose:s})]})},g=a(17),v=a.n(g);function x(e){var t=e.elements,a=e.status;return Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(m.jsx)(O,{element:e,status:a},e.id)}))})}O.propTypes={elements:v.a.object,status:v.a.string,handleToggle:v.a.func};var y=a(29);function w(){return Object(m.jsx)(y.a,{visible:!0,height:"80",width:"80",ariaLabel:"dna-loading",wrapperStyle:{},wrapperClass:"dna-wrapper"})}function S(e){var t=e.onButtonLoad;return Object(m.jsx)("button",{className:"Button",onClick:t,children:"Load more"})}var k="idle",L="loading",C="success",I="error",N=a(54).a.create({baseURL:"https://pixabay.com/api"}),E=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r,c,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},a=t.page,n=t.search,e.next=4,N.get("/",{params:{q:n,page:a,key:"12869198-d37a15061ea84e81a1308e6dd",image_type:"photo",orientation:"horizontal",per_page:12}});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(k),i=Object(u.a)(c,2),j=i[0],b=i[1],h=Object(n.useState)(""),p=Object(u.a)(h,2),d=p[0],O=p[1],g=Object(n.useState)(1),v=Object(u.a)(g,2),y=v[0],N=v[1],R=Object(n.useState)(!1),B=Object(u.a)(R,2),F=B[0],T=B[1],G=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=t.search,b(L),e.prev=2,e.next=5,E({page:a,search:n});case 5:c=e.sent,r((function(e){return[].concat(Object(s.a)(e),Object(s.a)(c.hits))})),b(C),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),b(I);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G({page:y,search:d})}),[d,y]);return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(f,{onSearchLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";N(1),O(e),r([])}}),j===L?Object(m.jsx)(w,{}):Object(m.jsx)(x,{elements:a,status:j,handleToggle:function(e){T((function(e){return!F}))}}),Object(m.jsx)(S,{onButtonLoad:function(){N(y+1),O(d)},page:y}),Object(m.jsx)(U,{})]})},U=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})})),Object(m.jsx)("div",{ref:e})};a(51);c.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(R,{}))}},[[52,1,2]]]);
//# sourceMappingURL=main.91b00f8d.chunk.js.map