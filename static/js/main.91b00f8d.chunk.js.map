{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","constants/status.constants.js","services/images.sevice.js","components/App.jsx","index.js"],"names":["Searchbar","state","search","onInputChange","evt","setState","target","value","onSubmit","preventDefault","onSearchLoad","props","this","className","type","onChange","autoComplete","autoFocus","name","placeholder","Component","Modal","largeImageURL","onClose","useEffect","handleKeyClose","event","console","log","code","window","addEventListener","removeEventListener","onClick","currentTarget","style","marginLeft","src","alt","ImageGalleryItem","useState","isModalOpen","setIsModalOpen","handleIsModalOpen","prevState","element","webformatURL","tags","ImageGallery","elements","status","map","id","propTypes","PropTypes","object","string","handleToggle","func","Loader","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","Button","onButtonLoad","STATUS","postsApi","axios","create","baseURL","getImages","a","params","page","get","q","key","image_type","orientation","per_page","data","App","images","setImages","setStatus","setSearch","setPage","fetchData","prev","hits","ScrollDown","divRef","useRef","current","scrollIntoView","behavior","ref","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.91b00f8d.chunk.js","sourcesContent":["\nimport { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport class Searchbar extends Component { \n\n    state = {\n        search: ''\n    }\n\n    onInputChange = (evt) => {\n        this.setState({ search: evt.target.value });\n    }\n\n                   onSubmit = (evt) =>{\n        \n        evt.preventDefault();\n        const { search } = this.state;\n        const { onSearchLoad } = this.props;\n        onSearchLoad(search);\n        //this.setState({ name: '' , number: ''});\n    }\n\n    render() {\n    \n    const { search } = this.state;\n        \n    return (<header className=\"Searchbar\">\n            <form className=\"SearchForm\" onSubmit={this.onSubmit}>\n                <button type=\"submit\" className=\"SearchForm-button\" >\n                <span className=\"button-label\">Search</span>\n                </button>\n\n                <input \n                onChange={this.onInputChange}\n                className=\"SearchForm-input\"\n                type=\"text\"\n                autoComplete=\"off\"\n                autoFocus\n                name=\"search\"\n                value={search }\n                placeholder=\"Search images and photos\"\n                />\n            </form>\n            </header>)\n    }\n  \n}\n\nSearchbar.propTypes = {\n    search: PropTypes.string,\n   \n}","import PropTypes from \"prop-types\";\nimport { useEffect } from \"react\";\n\nexport const Modal = ({ largeImageURL, onClose }) => { \n\n    useEffect(() => {\n        const handleKeyClose = event => {\n        console.log('in handleKeyClose');\n        if (event.code === 'Escape') {\n            onClose();\n        }\n        };\n        \n        window.addEventListener('keydown', handleKeyClose)\n        return () => {\n            \n            window.removeEventListener('keydown',handleKeyClose)\n        };\n  }, [onClose]);\n   \n\n    const handleIsModalClose = (evt) => {\n       \n        if (evt.currentTarget !== evt.target) {\n            onClose(); \n        }   \n    }\n    \n   \n    return (\n            <div className=\"Overlay\" >\n                <div className=\"Modal\" onClick={handleIsModalClose}>\n                <button style={{marginLeft: 'auto' }}type=\"button\" onClick={ onClose}>X</button>\n                <img src={largeImageURL} alt=\"\" />\n                \n                </div>\n            </div>\n        )\n   \n  \n}\n\nModal.propTypes = {\n    largeImageURL: PropTypes.string,\n   \n}","import { useState } from \"react\";\nimport { Modal } from \"components/Modal/Modal\";\nimport PropTypes from \"prop-types\";\n\nexport const ImageGalleryItem = (props) => {\n     \n    const [isModalOpen, setIsModalOpen] = useState(false); \n  \n\n    const handleIsModalOpen = () => {\n       \n        setIsModalOpen(prevState => ( !prevState ));\n    }\n\n        const { element } = props;\n      \n        return (\n            <li className=\"ImageGalleryItem\" onClick={handleIsModalOpen } >\n                < img className=\"ImageGalleryItem-image\"\n                 src={element.webformatURL} alt={element.tags} /> \n                {isModalOpen && <Modal largeImageURL={element.largeImageURL} onClose={handleIsModalOpen } />}\n            </li>\n        )\n   \n}\n\nImageGalleryItem.propTypes = {\n    //status: PropTypes.string,\n    element: PropTypes.shape({\n        webformatURL: PropTypes.string.isRequired,\n        tags: PropTypes.string,\n    })\n}","import { ImageGalleryItem } from \"components/ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nexport function ImageGallery(props) {\n\n    const { elements, status } = props;\n    return (\n            \n        <ul className=\"ImageGallery\" >\n\n            { elements.map(element =>\n                <ImageGalleryItem key={element.id} element={element} status={status} />)}\n        </ul>\n           \n    )\n   \n}\n\nImageGalleryItem.propTypes = {\n    elements: PropTypes.object,\n    status: PropTypes.string,\n     handleToggle: PropTypes.func,   \n    }\n\n","import { Dna } from 'react-loader-spinner'\n\nexport function Loader() { \n\n    return (\n        <Dna\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"dna-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"dna-wrapper\"\n        />\n   )\n  \n}","\n\nexport function Button(props) {\n  \n  const { onButtonLoad } = props;\n\n  return (<button className=\"Button\" onClick={onButtonLoad}>Load more</button>)\n  \n}","export const STATUS = {\n  idle: 'idle',\n  loading: 'loading',\n  success: 'success',\n  error: 'error',\n};","import axios from 'axios';\n\nconst postsApi = axios.create({\n  baseURL: 'https://pixabay.com/api',\n});\n\nexport const getImages = async (params = {}) => {\n  const { page, search } = params;\n  const { data } = await postsApi.get('/', {\n    params: {\n      q: search,\n      page: page, \n      key: '12869198-d37a15061ea84e81a1308e6dd',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      per_page: 12\n    },\n    /*params: {\n      key: '12869198-d37a15061ea84e81a1308e6dd',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      page: 1,\n      per_page: 12\n      \n    },*/\n  });\n\n  return data;\n};","import { Searchbar } from './Searchbar/Searchbar';\nimport { ImageGallery} from './ImageGallery/ImageGallery';\nimport { Loader } from './Loader/Loader';\nimport { Button } from './Button/Button';\nimport { useState, useEffect, useRef } from 'react';\nimport { STATUS } from '../constants/status.constants';\nimport { getImages } from '../services/images.sevice';\n\n\nexport const App = () => {\n\n    const [images,setImages] = useState([]);\n    const [status,setStatus] = useState(STATUS.idle); // 'idle', 'loading', 'success', 'error'\n    const [search,setSearch] = useState('');\n    const [page,setPage] = useState(1);\n    const [isModalOpen, setIsModalOpen] = useState(false);\n   \n\n  const fetchData = async ({ page , search  }) => {\n    setStatus(STATUS.loading);\n    try {\n      const data = await getImages({ page, search });\n      setImages( prev=>([...prev , ...data.hits]));\n      setStatus(STATUS.success ); \n    } catch (error) {\n      console.log(error);\n      setStatus(STATUS.error );\n    }\n  };\n\n\n  useEffect(()=> {\n    \n      \n      fetchData({ page: page , search: search  });\n \n     \n  },[ search,page])\n\n\n\n  const onSearchLoad = (search='') =>{\n    \n    setPage(1);  \n    setSearch(search); \n    setImages([]); \n      \n  }\n\n  const onButtonLoad = () => {\n     \n    setPage(page+1);\n    setSearch(search); \n   \n  }\n\n  const handleToggle = (evt) => {\n    \n    setIsModalOpen(prevState => ( !isModalOpen ));\n  }\n\n  \n    return (\n    <div className={\"App\"} >\n      \n      <Searchbar onSearchLoad={onSearchLoad} />\n       {status === STATUS.loading\n        ? < Loader />\n        :<ImageGallery elements={images} status={status} handleToggle={ handleToggle} />}\n      <Button onButtonLoad={onButtonLoad} page={ page } />\n      <ScrollDown />\n      </div>\n      \n    );\n  \n};\n\nconst ScrollDown = () => {\n  const divRef = useRef(null);\n\n  useEffect(() => {\n    divRef.current.scrollIntoView({ behavior: 'smooth' });\n  });\n\n  return <div ref={divRef} />;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { App } from 'components/App';\nimport './styles.css';\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  //<React.StrictMode>\n    <App />\n // </React.StrictMode>\n);\n\n\n  \n"],"sourceRoot":""}